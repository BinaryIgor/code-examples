<!DOCTYPE html>
<html>

<head>
</head>

<body>
    <h1>Simple yet Scalable Web Analytics</h1>
    <div style="margin-top: 8px; margin-bottom: 16px">
        <p>Single page to showcase Simple yet Scalable Web Analytics solution.</p>
        <p>See console logs and network tab for details - view (5 seconds after being on the page) and clicks are sent.</p>
    </div>
    <button id="button-a" style="padding: 4px 16px;">Button A</button>
    <button id="button-b" style="padding: 4px 16px;">Button B</button>
    <script type="module">
        import * as Analytics from "./analytics.js";

        const TARGET_URL = "http://localhost:8080/analytics/events";
        const VIEW_EVENT = "view";
        const VIEW_EVENT_DELAY = 5_000;
        const BUTTON_CLICK_EVENT = "button-click";

        console.log("Some JavaScript...");
        console.log("Sending view event...");

        setTimeout(() => Analytics.sendEvent(TARGET_URL, VIEW_EVENT), VIEW_EVENT_DELAY);

        document.getElementById("button-a").onclick = () => {
            Analytics.sendEvent(TARGET_URL, BUTTON_CLICK_EVENT, { buttonId: "button-a" });
        };
        document.getElementById("button-b").onclick = () => {
            Analytics.sendEvent(TARGET_URL, BUTTON_CLICK_EVENT, { buttonId: "button-b" });
        };
    </script>
</body>

</html>